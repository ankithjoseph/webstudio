# ===========================================
# Webstudio Environment Variables
# Copy this file to .env and fill in values
# ===========================================

# -------------------------------------------
# Database Configuration
# -------------------------------------------
# PostgreSQL connection string (with connection pooling)
DATABASE_URL=postgresql://webstudio:your-password@localhost:5432/webstudio?pgbouncer=true

# Direct database connection (for migrations)
DIRECT_URL=postgresql://webstudio:your-password@localhost:5432/webstudio

# PostgreSQL password (for docker-compose)
POSTGRES_PASSWORD=your-secure-password

# -------------------------------------------
# PostgREST Configuration
# -------------------------------------------
# PostgREST API URL
POSTGREST_URL=http://localhost:3001

# JWT secret for PostgREST (must be at least 32 characters)
# Generate with: openssl rand -hex 32
JWT_SECRET=your-jwt-secret-at-least-32-characters-long

# PostgREST API key (JWT token)
# Generate using JWT_SECRET with payload: {"role": "anon"}
POSTGREST_API_KEY=your-postgrest-api-key

# -------------------------------------------
# Authentication
# -------------------------------------------
# Session secret (generate with: openssl rand -hex 32)
AUTH_SECRET=your-auth-secret-at-least-32-characters

# GitHub OAuth (https://github.com/settings/developers)
GH_CLIENT_ID=your-github-client-id
GH_CLIENT_SECRET=your-github-client-secret

# Google OAuth (https://console.cloud.google.com/apis/credentials)
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret

# Development login (set to true to enable login without OAuth)
# WARNING: Only use for development/testing
DEV_LOGIN=false

# -------------------------------------------
# Application Configuration
# -------------------------------------------
# Deployment environment
DEPLOYMENT_ENVIRONMENT=production

# Public URL of your Webstudio instance
DEPLOYMENT_URL=https://your-domain.com

# Server port
PORT=3000

# -------------------------------------------
# Feature Flags
# -------------------------------------------
# Enable all features with "*" or specify comma-separated list
FEATURES=*

# User plan level (pro enables all features)
USER_PLAN=pro

# -------------------------------------------
# Asset Storage (S3-compatible)
# -------------------------------------------
# Leave empty to use local filesystem storage

# S3 bucket name
S3_BUCKET=

# S3 region
S3_REGION=

# S3 endpoint URL (for S3-compatible services like MinIO)
S3_ENDPOINT=

# S3 access credentials
S3_ACCESS_KEY_ID=
S3_SECRET_ACCESS_KEY=

# S3 ACL for uploaded files
S3_ACL=public-read

# CDN URL for serving assets (optional)
ASSET_CDN_URL=

# -------------------------------------------
# Upload Limits
# -------------------------------------------
# Maximum file upload size in MB
MAX_UPLOAD_SIZE=10

# Maximum assets per project
MAX_ASSETS_PER_PROJECT=50
